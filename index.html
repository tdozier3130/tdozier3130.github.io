<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">

  <!-- iPhone web app mode -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Aquarium Clock">
  <meta name="theme-color" content="#000000">

  <title>Aquarium Clock</title>

 <script>
  function pad(n) {
    return String(n).padStart(2, "0");
  }

  let lastMinute = null;

  function updateClock() {
    const now = new Date();

    let hours = now.getHours();
    const minutesNum = now.getMinutes();
    const minutes = pad(minutesNum);
    const ampm = hours >= 12 ? "PM" : "AM";

    hours = hours % 12;
    hours = hours ? hours : 12;

    document.getElementById("time").textContent =
      `${hours}:${minutes}`;

    document.getElementById("ampm").textContent = ampm;

    document.getElementById("date").textContent =
      now.toLocaleDateString(undefined, {
        weekday: "long",
        month: "long",
        day: "numeric"
      });

    // Trigger flip only when minute changes
    if (lastMinute === null) {
      lastMinute = minutesNum;
      return;
    }

    if (minutesNum !== lastMinute) {
      lastMinute = minutesNum;

      const clockEl = document.getElementById("clock");
      clockEl.classList.remove("flip"); // reset
      void clockEl.offsetWidth;         // force reflow
      clockEl.classList.add("flip");    // run animation
    }
  }

  updateClock();
  setInterval(updateClock, 1000);

  // OLED burn-in prevention: subtle drift
  let offset = 0;
  setInterval(() => {
    offset = (offset + 1) % 6; // 0–5 px
    document.querySelector(".overlay").style.transform =
      `translate(${offset}px, ${offset}px)`;
  }, 60000);
</script>
</head>

<body>
  <video
    autoplay
    muted
    loop
    playsinline
    webkit-playsinline
    preload="auto"
    src="aquarium.mp4">
  </video>

  <div class="overlay">
    <div>
    <div class="flip-clock" id="clock">
      <span class="time" id="time">12:00</span>
      <span class="ampm" id="ampm">AM</span>
    </div>

    <div class="date" id="date">Loading…</div>
  </div>
</div>
<script>
  function pad(n) {
    return String(n).padStart(2, "0");
  }

  function updateClock() {
    const now = new Date();

    let hours = now.getHours();
    const minutes = pad(now.getMinutes());
    const ampm = hours >= 12 ? "PM" : "AM";

    hours = hours % 12;
    hours = hours ? hours : 12;

    document.querySelector("#clock .time").textContent =
      `${hours}:${minutes}`;

    document.getElementById("ampm").textContent = ampm;

    document.getElementById("date").textContent =
      now.toLocaleDateString(undefined, {
        weekday: "long",
        month: "long",
        day: "numeric"
      });
  }

  updateClock();
  setInterval(updateClock, 1000);

  /* OLED burn-in prevention */
  let offset = 0;
  setInterval(() => {
    offset = (offset + 1) % 6;
    document.querySelector(".overlay").style.transform =
      `translate(${offset}px, ${offset}px)`;
  }, 60000);
</script>
  
</body>
</html>




